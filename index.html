<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style type="text/css">
    body {
      overflow: visible;
      margin: 0;
      padding: 0;
      font-size: 16px; /* Anda dapat menyesuaikan ukuran font dasar */
    }

    #timer {
      background-color: #000000;
      color: #FFFFFF;
      font-family: arial;
      font-weight: bold;
      padding: 10px 30px;
      margin: 20px;
      border-radius: 100px;
    }

    iframe {
      max-width: 100%;
      height: auto;
      width: 100%;
      border: 0;
      padding-top: 8px;
      margin: 0;
    }

    #form {
      padding: 10px;
    }

    @media screen and (max-width: 600px) {
      #timer {
        padding: 5px 15px; /* Sesuaikan padding untuk layar yang lebih kecil */
        margin: 20px;
      }

      body {
        font-size: 14px; /* Sesuaikan ukuran font untuk layar yang lebih kecil */
      }
    }
  </style>
</head>

<body>
  <div id="timer" align="center"><a class="fa fa-clock-o"></a> <span id="time"></span></div>
  <span id="form">
    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdSAqAL0i_Tm_FbrZCgpv7TBm9goxNb363ELwg58tIpbjRCIQ/viewform">Mohon Menunggu</iframe><br />
  </span>

<script>

function startTimer(duration, interval, tolerance, display) {
    var timer = duration, minutes, seconds, delayMinutes, delaySeconds;
    var batas = timer + tolerance * 60;
    interval = 60 * interval;
    setInterval(function () {
        delayMinutes = parseInt((timer - interval) / 60, 10);
        delaySeconds = parseInt((timer - interval) % 60, 10);
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        delayMinutes = delayMinutes < 10 ? "0" + delayMinutes : delayMinutes;
        delaySeconds = delaySeconds < 10 ? "0" + delaySeconds : delaySeconds;

        if (timer <= interval) {
          document.getElementById("form").style.visibility = "visible";
          display.textContent = "Tersisa " + minutes + ":" + seconds + " Menit";
        } else {
          display.textContent = "Dibuka " + delayMinutes + ":" + delaySeconds + " Menit lagi";
        }

        if (--timer < 0) {

           display.textContent = tolerance + " Menit Toleransi, SILAHKAN TEKAN TOMBOL SUBMIT!";
        }
    if (--batas < 0) {

           document.getElementById("form").style.visibility = "hidden";
           display.textContent = "Akses tidak diberikan";
        }

    }, 1000);
}

function addMinutes(date, minutes) {
  date.setMinutes(date.getMinutes() + minutes);

  return date;
}

window.onload = function () {
    var interval = 1;
    var tolerance = 1;
    var startDate = '2023-11-13T17:07:00.000';
    document.getElementById("form").style.visibility = "hidden";
    var display = document.querySelector('#time');
    var initDate = new Date(startDate);
    var countDownDate = addMinutes(initDate, interval);
    var nowDate = new Date();
    var duration = (countDownDate.getTime() - nowDate.getTime())/1000;
    startTimer(duration, interval, tolerance, display);
};

</script>

<style type="text/css">
  
body {
    overflow: visible;
}

iframe {

height: 600px;
width: 100%;
border: 0px;
padding-top: 8px;
margin: 0px
}

#timer {
background-color: #000000;
color: #FFFFFF;
font-family: arial;
font-weight: bold;
margin: 20px;
padding: 10px 30px;
border-radius: 100px;
}

</style>
